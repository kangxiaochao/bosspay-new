

1命名约定
1.1 页面命名
第一个字母小写。其后每个单词第一个字母大写，页面命名要按操作的表名来命名
系统表操作放在system目录中，非系统表操作放在mp目录中
如充值业务操作的是mp_order表那么页面命名应当为
orderBillAdd.jsp 话费充值
orderFlowAdd.jsp 流量充值
orderBillList.jsp 话费充值列表
orderFlowList.jsp 流量充值列表

1.2 控制器命名
本业务逻辑最终要操作哪张表就用那张表的表名来命名本控制器并添加Ctl后缀
首字母大写，其后每个单词首字母大写，其他字母小写
如话费充值控制器命名为
OrderCtl.java

本层要使用注解
@Controller

1.3 服务层命名与编写规范
本业务逻辑最终要操作哪张表的表名来命名本服务并添加Ser后缀
首字母大写，其后每个单词首字母大写，其他字母小写
如话费充值服务层命名为
OrderSer.java

本层要使用注解
@Service
@Transactional

无论服务层是否存在异常都应当进行try catch进行捕捉并对异常进行日志打印
以方便后期对错误进行日志排查


1。4 数据库操作层命名与编写规范
本业务逻辑最终操作哪张表的表名来命名本数据操作层添加Dao后缀
如话费充值业务数据操作层命名为
OrderDao.java

数据操作层不进行任何异常捕捉，如有异常发生向上抛出到服务层

1.5 数据库操作映射文件编写命名规范
本业务逻辑最终操作哪张表名来命名本数据操作映射层后面添加Dao后缀
也就是数据操作层命名与本层命名是相同的只是扩展名不同
如话费充值业务数据操作映射文件命名为
OrderDao.xml

2 参数规范
一个方法只需要传入ID类参数且本方法以后都不需要进行扩展那传参数时使用参数类型进行直接传递如String suId
一个方法传入参数大于等于两个时使用Map<String,Object> parmsMap来进行参数传递以方便以后方法扩展使用


3在编写任何一层时请参归SysUser表的各层操作与命名规范

//------------------------------------------------------
权限拦截

第一步添加权限表数据
sysPermissionT
授权编号                          模块名称(在controller里找):请求方式(get/post/delete/put)      权限名称
20000000000000000000000000000001	sysUser:get	                                                  用户列表数据	2016-12-01 14:41:39
20000000000000000000000000000002	sysUser:post	用户添加	2016-12-01 14:41:39
20000000000000000000000000000003	sysUser:put	用户修改	2016-12-01 14:41:39
20000000000000000000000000000004	sysUser:delete	用户删除	2016-12-01 14:41:39
20000000000000000000000000000005	sysUserListPage:get	用户列表页面	2016-12-10 14:58:00
20000000000000000000000000000006	mainPage:get	登陆后主页	2017-03-02 15:55:17
20000000000000000000000000000007	sysUserAddPage:get	用户添加页面	2017-03-02 18:09:40
20000000000000000000000000000008	sysUser:patch	密码修改	2017-03-04 20:37:04
20000000000000000000000000000009	sysUserChangePassPage:get	密码修改页面	2017-03-04 20:37:40
20000000000000000000000000000010	sysUserEditPage:get	用户修改页	2017-03-09 13:53:44


第二步配置拦截路径
sysFunctionT
拦截类型表
拦截编号            拦截地址(在controller里找要写sysPermissionT表中名字对应好)        授权编号(sysPermissionT表中找)           授权类型(cusperm固定值)
1	                  /sysUser	                                                        20000000000000000000000000000001		     cusperm	               2017-03-02 18:01:28
10	/sysUserChangePassPage	20000000000000000000000000000009		cusperm	2017-03-07 18:58:04
11	/sysUserEditPage	20000000000000000000000000000010		cusperm	2017-03-09 13:55:00
2	/sysUser	20000000000000000000000000000001		cusperm	2017-03-07 10:58:44
3	/sysUser	20000000000000000000000000000002		cusperm	2017-03-07 11:02:13
4	/sysUser/*	20000000000000000000000000000003		cusperm	2017-03-07 11:02:33
5	/sysUser	20000000000000000000000000000004		cusperm	2017-03-07 18:55:49
6	/sysUserListPage	20000000000000000000000000000005		cusperm	2017-03-07 18:56:48
7	/mainPage	20000000000000000000000000000006		cusperm	2017-03-07 18:57:05
8	/sysUserAddPage	20000000000000000000000000000007		cusperm	2017-03-07 18:57:23
9	/sysUser	20000000000000000000000000000008		cusperm	2017-03-07 18:57:46
第三步权限与角色绑定
sysRolePermissionT
角色编号                          授权编号(sysPermissionT表中找)
30000000000000000000000000000001	20000000000000000000000000000001	2016-12-01 14:41:42
30000000000000000000000000000001	20000000000000000000000000000002	2016-12-01 14:41:42
30000000000000000000000000000001	20000000000000000000000000000003	2017-03-09 13:58:07
30000000000000000000000000000001	20000000000000000000000000000005	2017-03-02 15:44:34
30000000000000000000000000000001	20000000000000000000000000000006	2017-03-02 15:58:17
30000000000000000000000000000001	20000000000000000000000000000007	2017-03-04 20:32:20
30000000000000000000000000000001	20000000000000000000000000000009	2017-03-04 20:39:16
30000000000000000000000000000001	20000000000000000000000000000010	2017-03-02 15:57:52
30000000000000000000000000000002	20000000000000000000000000000008	2017-03-04 20:39:05



注意shiro权限表达式。当有参数时
如user/{id}权限表达式应当写user/*

上游接口提交状态:
	status:
		-1:异常
		 0:提交失败
		 1:提交成功
		 3:充值成功
		 4:充值失败

